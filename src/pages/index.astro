---
import Layout from "../layouts/Layout.astro";
import "../scripts/player.js";
---

<Layout>
  <div class="min-h-screen bg-neutral-900 flex p-4">
    <div class="volume-wrapper">
      <div class="volume-control">
        <div class="slider-wrap">
          <input
            id="volumeSlider"
            type="range"
            min="0"
            max="100"
            step="1"
            value="100"
            class="volume-slider"
          />
        </div>
        <img
          id="volumeIcon"
          src="/images/volume-high-svgrepo-com.svg"
          alt="Volume"
          class="volume-icon"
        />
      </div>
    </div>

    <div class="flex-1 grid place-items-center">
      <div class="device w-[min(1600px,95vw)] h-[min(920px,92vh)]">
        <header class="flex items-center gap-4 px-6 pt-5 pb-3">
          <div class="font-black tracking-widest text-neutral-800"></div>

          <div class="relative flex-1">
            <input
              type="text"
              placeholder="Search"
              class="w-full rounded-lg bg-white/70 border border-black/10 pl-10 pr-3 py-2 text-sm placeholder:text-neutral-500 focus:outline-none focus:ring-4 ring-black/10 transition-transform hover:scale-[1.01]"
            />
            <img
              src="/images/icons8-search.svg"
              alt=""
              class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 opacity-70"
              aria-hidden="true"
            />
          </div>

          <div class="flex items-center gap-3 text-neutral-600">
            <a
              href="mailto:readersfiction@gmail.com"
              class="iconbtn text-neutral-700"
              aria-label="Mail"
            >
              <span
                class="icon-mask"
                style="--icon:url('/images/mail-svgrepo-com.svg')"></span>
            </a>

            <a
              href="https://instagram.com/lowlifejanitor"
              target="_blank"
              rel="noopener noreferrer"
              class="iconbtn text-neutral-700"
              aria-label="Instagram"
            >
              <span
                class="icon-mask"
                style="--icon:url('/images/instagram-svgrepo-com.svg')"></span>
            </a>

            <a
              href="tel:+6596158857"
              class="iconbtn text-neutral-700"
              aria-label="Phone"
            >
              <span
                class="icon-mask"
                style="--icon:url('/images/phone-svgrepo-com.svg')"></span>
            </a>
          </div>
        </header>

        <div class="flex gap-3 px-4 pb-6 h-[calc(100%-64px)]">
          <main
            class="flex-1 grid lg:grid-cols-[minmax(320px,460px)_1fr] gap-5 overflow-hidden"
          >
            <section class="panel p-4 overflow-hidden">
              <div id="turntable" class="turntable">
                <div class="plate">
                  <div class="vinyl">
                    <div class="label"><span class="label-text">ANR</span></div>
                  </div>
                </div>
                <div class="tonearm">
                  <div class="arm"></div>
                  <div class="needle"></div>
                </div>
              </div>

              <div class="mt-4">
                <h2 class="title font-orange-kid">Arai Nanami Rachel</h2>
                <div class="mt-1 flex items-center gap-2">
                  <span class="tag font-orange-kid">Enjoy!</span>
                </div>

                <div class="mt-4 flex items-center justify-between">
                  <div class="time text-xs text-neutral-600">1:54</div>
                  <div id="waveform" class="w-full h-20"></div>
                  <div class="time text-xs text-neutral-600">3:35</div>
                </div>

                <div class="mt-4 flex items-center gap-8 justify-center">
                  <button class="cbtn" aria-label="Fullscreen">
                    <img
                      src="/images/fullscreen.svg"
                      alt="Fullscreen"
                      class="w-5 h-5 text-black"
                    />
                  </button>

                  <button class="cbtn" aria-label="Previous">
                    <img
                      src="/images/next1.svg"
                      alt="Prev"
                      class="w-6 h-6"
                      style="transform: scaleX(-1);"
                    />
                  </button>

                  <button
                    id="mainPlay"
                    class="cbtn cbtn--primary bg-black rounded-full w-12 h-12 flex items-center justify-center border border-white"
                    aria-pressed="false"
                    aria-label="Play/Pause"
                  >
                    <img
                      id="playIcon"
                      src="/images/play.svg"
                      alt="Play"
                      class="w-6 h-6 invert"
                    />
                  </button>

                  <button class="cbtn" aria-label="Next">
                    <img src="/images/next1.svg" alt="Next" class="w-5 h-5" />
                  </button>

                  <button class="cbtn" aria-label="Shuffle">
                    <img
                      src="/images/shuffle.svg"
                      alt="Shuffle"
                      class="w-5 h-5 text-black"
                    />
                  </button>
                </div>
              </div>
            </section>

            <section class="grid gap-5 overflow-hidden">
              <div class="panel p-4 overflow-hidden">
                <div class="flex items-end justify-between">
                  <h3 class="heading font-orange-kid musiccat leading-[0.95]">
                    Why these songs?<span class="block"></span>
                  </h3>
                </div>

                <div class="mt-3 flex flex-wrap gap-2 font-orange-kid">
                  <button class="chip" data-song="Stop Crying Your Heart Out"
                    >Stop Crying Your Heart Out</button
                  >
                  <button class="chip" data-song="Nuts">Nuts</button>
                  <button class="chip" data-song="K">K</button>
                  <button class="chip" data-song="Sparks">Sparks</button>
                  <button class="chip" data-song="I Don't Love You"
                    >I Don't Love You</button
                  >
                </div>

                <div
                  id="category-text"
                  class="mt-4 p-3 rounded-lg bg-white/80 text-neutral-800 text-sm"
                >
                  <p>
                    This passion project started off as a way to showcase
                    differnet music, but has shaped into something more — a deep
                    dive into the songs that hold pieces of me. Each track here
                    isn’t just music, but a memory, a lesson, or a wound I’ve
                    carried. <strong
                      >Click on any song to see the story it tells in my life.</strong
                    >
                  </p>
                </div>
              </div>

              <div class="panel p-4 overflow-hidden">
                <div class="flex items-center justify-between">
                  <h3 class="heading font-orange-kid">
                    Favorite Songs <span class="text-neutral-500 text-sm"
                      >(5)</span
                    >
                  </h3>
                  <button class="link hover:underline-offset-4 transition-all"
                    >▷</button
                  >
                </div>

                <div class="mt-3 grid gap-3">
                  <div class="playlist" data-src="/songs/stopcrying.mp3">
                    <img
                      src="/images/stopcrying.jpeg"
                      alt="Oasis cover"
                      class="avatar"
                    />
                    <div class="min-w-0">
                      <div class="text-sm font-semibold truncate">
                        Stop Crying Your Heart Out
                      </div>
                      <div class="text-xs text-neutral-500">Oasis</div>
                    </div>
                    <button
                      class="ml-auto cbtn songPlay"
                      aria-label="Play this song"
                    >
                      <img src="/images/play.svg" alt="Play" class="w-5 h-5" />
                    </button>
                  </div>

                  <div class="playlist" data-src="/songs/nuts.mp3">
                    <img
                      src="/images/nuts.jpg"
                      alt="Lil Peep cover"
                      class="avatar"
                    />
                    <div class="min-w-0">
                      <div class="text-sm font-semibold truncate">Nuts</div>
                      <div class="text-xs text-neutral-500">Lil Peep</div>
                    </div>
                    <button
                      class="ml-auto cbtn songPlay"
                      aria-label="Play this song"
                    >
                      <img src="/images/play.svg" alt="Play" class="w-5 h-5" />
                    </button>
                  </div>

                  <div class="playlist" data-src="/songs/K.mp3">
                    <img
                      src="/images/cas.jpeg"
                      alt="Cigarettes After Sex cover"
                      class="avatar"
                    />
                    <div class="min-w-0">
                      <div class="text-sm font-semibold truncate">K</div>
                      <div class="text-xs text-neutral-500">
                        Cigarettes After Sex
                      </div>
                    </div>
                    <button
                      class="ml-auto cbtn songPlay"
                      aria-label="Play this song"
                    >
                      <img src="/images/play.svg" alt="Play" class="w-5 h-5" />
                    </button>
                  </div>

                  <div class="playlist" data-src="/songs/sparks.mp3">
                    <img src="/images/sparks.jpg" alt="Sparks" class="avatar" />
                    <div class="min-w-0">
                      <div class="text-sm font-semibold truncate">Sparks</div>
                      <div class="text-xs text-neutral-500">Coldplay</div>
                    </div>
                    <button
                      class="ml-auto cbtn songPlay"
                      aria-label="Play this song"
                    >
                      <img src="/images/play.svg" alt="Play" class="w-5 h-5" />
                    </button>
                  </div>

                  <div class="playlist" data-src="/songs/idontloveyou.mp3">
                    <img
                      src="/images/mcr.jpeg"
                      alt="My Chemical Romance cover"
                      class="avatar"
                    />
                    <div class="min-w-0">
                      <div class="text-sm font-semibold truncate">
                        I Don't Love You
                      </div>
                      <div class="text-xs text-neutral-500">
                        My Chemical Romance
                      </div>
                    </div>
                    <button
                      class="ml-auto cbtn songPlay"
                      aria-label="Play this song"
                    >
                      <img src="/images/play.svg" alt="Play" class="w-5 h-5" />
                    </button>
                  </div>
                </div>
              </div>

              <audio id="audio"></audio>
            </section>
          </main>
        </div>
      </div>
    </div>
  </div>
  <script src="https://unpkg.com/wavesurfer.js"></script>
</Layout>
